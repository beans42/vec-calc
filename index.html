<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Vector Calculator</title>
		<base href="/" />
		<meta name="color-scheme" content="light dark" />
		<meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />

		<meta name="format-detection" content="telephone=no" />
		<meta name="msapplication-tap-highlight" content="no" />

		<meta http-equiv="x-ua-compatible" content="IE=Edge">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-title" content="Vector Calculator" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
		<script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"/>
		
		<style>
			:root{--ion-color-primary:#ffc409;--ion-color-primary-rgb:255, 196, 9;--ion-color-primary-contrast:#000000;--ion-color-primary-contrast-rgb:0, 0, 0;--ion-color-primary-shade:#e0ac08;--ion-color-primary-tint:#ffca22;--ion-color-secondary:#3dc2ff;--ion-color-secondary-rgb:61, 194, 255;--ion-color-secondary-contrast:#ffffff;--ion-color-secondary-contrast-rgb:255, 255, 255;--ion-color-secondary-shade:#36abe0;--ion-color-secondary-tint:#50c8ff;--ion-color-tertiary:#5260ff;--ion-color-tertiary-rgb:82, 96, 255;--ion-color-tertiary-contrast:#ffffff;--ion-color-tertiary-contrast-rgb:255, 255, 255;--ion-color-tertiary-shade:#4854e0;--ion-color-tertiary-tint:#6370ff;--ion-color-success:#2dd36f;--ion-color-success-rgb:45, 211, 111;--ion-color-success-contrast:#ffffff;--ion-color-success-contrast-rgb:255, 255, 255;--ion-color-success-shade:#28ba62;--ion-color-success-tint:#42d77d;--ion-color-warning:#ffc409;--ion-color-warning-rgb:255, 196, 9;--ion-color-warning-contrast:#000000;--ion-color-warning-contrast-rgb:0, 0, 0;--ion-color-warning-shade:#e0ac08;--ion-color-warning-tint:#ffca22;--ion-color-danger:#eb445a;--ion-color-danger-rgb:235, 68, 90;--ion-color-danger-contrast:#ffffff;--ion-color-danger-contrast-rgb:255, 255, 255;--ion-color-danger-shade:#cf3c4f;--ion-color-danger-tint:#ed576b;--ion-color-dark:#222428;--ion-color-dark-rgb:34, 36, 40;--ion-color-dark-contrast:#ffffff;--ion-color-dark-contrast-rgb:255, 255, 255;--ion-color-dark-shade:#1e2023;--ion-color-dark-tint:#383a3e;--ion-color-medium:#92949c;--ion-color-medium-rgb:146, 148, 156;--ion-color-medium-contrast:#ffffff;--ion-color-medium-contrast-rgb:255, 255, 255;--ion-color-medium-shade:#808289;--ion-color-medium-tint:#9d9fa6;--ion-color-light:#f4f5f8;--ion-color-light-rgb:244, 245, 248;--ion-color-light-contrast:#000000;--ion-color-light-contrast-rgb:0, 0, 0;--ion-color-light-shade:#d7d8da;--ion-color-light-tint:#f5f6f9}@media (prefers-color-scheme:dark){body{--ion-color-primary:#ffd534;--ion-color-primary-rgb:255, 213, 52;--ion-color-primary-contrast:#000000;--ion-color-primary-contrast-rgb:0, 0, 0;--ion-color-primary-shade:#e0bb2e;--ion-color-primary-tint:#ffd948;--ion-color-secondary:#50c8ff;--ion-color-secondary-rgb:80,200,255;--ion-color-secondary-contrast:#ffffff;--ion-color-secondary-contrast-rgb:255,255,255;--ion-color-secondary-shade:#46b0e0;--ion-color-secondary-tint:#62ceff;--ion-color-tertiary:#6a64ff;--ion-color-tertiary-rgb:106,100,255;--ion-color-tertiary-contrast:#ffffff;--ion-color-tertiary-contrast-rgb:255,255,255;--ion-color-tertiary-shade:#5d58e0;--ion-color-tertiary-tint:#7974ff;--ion-color-success:#2fdf75;--ion-color-success-rgb:47,223,117;--ion-color-success-contrast:#000000;--ion-color-success-contrast-rgb:0,0,0;--ion-color-success-shade:#29c467;--ion-color-success-tint:#44e283;--ion-color-warning:#ffd534;--ion-color-warning-rgb:255,213,52;--ion-color-warning-contrast:#000000;--ion-color-warning-contrast-rgb:0,0,0;--ion-color-warning-shade:#e0bb2e;--ion-color-warning-tint:#ffd948;--ion-color-danger:#ff4961;--ion-color-danger-rgb:255,73,97;--ion-color-danger-contrast:#ffffff;--ion-color-danger-contrast-rgb:255,255,255;--ion-color-danger-shade:#e04055;--ion-color-danger-tint:#ff5b71;--ion-color-dark:#f4f5f8;--ion-color-dark-rgb:244,245,248;--ion-color-dark-contrast:#000000;--ion-color-dark-contrast-rgb:0,0,0;--ion-color-dark-shade:#d7d8da;--ion-color-dark-tint:#f5f6f9;--ion-color-medium:#989aa2;--ion-color-medium-rgb:152,154,162;--ion-color-medium-contrast:#000000;--ion-color-medium-contrast-rgb:0,0,0;--ion-color-medium-shade:#86888f;--ion-color-medium-tint:#a2a4ab;--ion-color-light:#222428;--ion-color-light-rgb:34,36,40;--ion-color-light-contrast:#ffffff;--ion-color-light-contrast-rgb:255,255,255;--ion-color-light-shade:#1e2023;--ion-color-light-tint:#383a3e}.ios body,.md body{--ion-text-color:#ffffff;--ion-text-color-rgb:255,255,255}.ios body{--ion-background-color:#000000;--ion-background-color-rgb:0,0,0;--ion-color-step-50:#0d0d0d;--ion-color-step-100:#1a1a1a;--ion-color-step-150:#262626;--ion-color-step-200:#333333;--ion-color-step-250:#404040;--ion-color-step-300:#4d4d4d;--ion-color-step-350:#595959;--ion-color-step-400:#666666;--ion-color-step-450:#737373;--ion-color-step-500:#808080;--ion-color-step-550:#8c8c8c;--ion-color-step-600:#999999;--ion-color-step-650:#a6a6a6;--ion-color-step-700:#b3b3b3;--ion-color-step-750:#bfbfbf;--ion-color-step-800:#cccccc;--ion-color-step-850:#d9d9d9;--ion-color-step-900:#e6e6e6;--ion-color-step-950:#f2f2f2;--ion-item-background:#000000;--ion-card-background:#1c1c1d}.ios ion-modal{--ion-background-color:var(--ion-color-step-100);--ion-toolbar-background:var(--ion-color-step-150);--ion-toolbar-border-color:var(--ion-color-step-250)}.md body{--ion-background-color:#121212;--ion-background-color-rgb:18,18,18;--ion-border-color:#222222;--ion-color-step-50:#1e1e1e;--ion-color-step-100:#2a2a2a;--ion-color-step-150:#363636;--ion-color-step-200:#414141;--ion-color-step-250:#4d4d4d;--ion-color-step-300:#595959;--ion-color-step-350:#656565;--ion-color-step-400:#717171;--ion-color-step-450:#7d7d7d;--ion-color-step-500:#898989;--ion-color-step-550:#949494;--ion-color-step-600:#a0a0a0;--ion-color-step-650:#acacac;--ion-color-step-700:#b8b8b8;--ion-color-step-750:#c4c4c4;--ion-color-step-800:#d0d0d0;--ion-color-step-850:#dbdbdb;--ion-color-step-900:#e7e7e7;--ion-color-step-950:#f3f3f3;--ion-item-background:#1e1e1e;--ion-toolbar-background:#1f1f1f;--ion-tab-bar-background:#1f1f1f;--ion-card-background:#1e1e1e}}
		</style>
	</head>

	<body>
		<ion-app>
			<ion-header translucent>
				<ion-toolbar>
					<ion-title>Vector Calculator</ion-title>
				</ion-toolbar>
			</ion-header>
			
			<ion-content fullscreen>
				<ion-header collapse="condense">
					<ion-toolbar>
						<ion-title size="large">Vector Calculator</ion-title>
					</ion-toolbar>
				</ion-header>
				
				<ion-grid>
					<ion-label position="stacked">First Vector</ion-label>
					<ion-row>
						<ion-col>
							<ion-input id="vec_one_mag" type="text" onInput="handle();" placeholder="Magnitude"></ion-input>
						</ion-col>
						<ion-col>
							<ion-input id="vec_one_dir" type="text" onInput="handle();" placeholder="Direction (degrees)"></ion-input>
						</ion-col>
					</ion-row>
					<ion-label position="stacked">Second Vector</ion-label>
					<ion-row>
						<ion-col>
							<ion-input id="vec_two_mag" type="text" onInput="handle();" placeholder="Magnitude"></ion-input>
						</ion-col>
						<ion-col>
							<ion-input id="vec_two_dir" type="text" onInput="handle();" placeholder="Direction (degrees)"></ion-input>
						</ion-col>
					</ion-row>
					<div hidden id="result_div">
						<ion-label position="stacked">Result Vector</ion-label>
						<ion-row>
							<ion-col>
								<ion-input readonly id="vec_res_mag" type="text"></ion-input>
							</ion-col>
							<ion-col>
								<ion-input readonly id="vec_res_dir" type="text"></ion-input>
							</ion-col>
						</ion-row>
					</div>
				</ion-grid>
			</ion-content>
		</ion-app>
		
		<script>
			const holder_div = document.getElementById("result_div");
			const elems = [
				document.getElementById("vec_one_mag"),
				document.getElementById("vec_one_dir"),
				document.getElementById("vec_two_mag"),
				document.getElementById("vec_two_dir"),
				document.getElementById("vec_res_mag"),
				document.getElementById("vec_res_dir")
			];
			
			function handle() {
				for (let i = 0; i < 4; ++i) {
					if (Number.isNaN(+elems[i].value) || elems[i].value === "") {
						holder_div.hidden = true;
						return;
					}
				}
				const a_vec = [ +elems[0].value, +elems[1].value ];
				const b_vec = [ +elems[2].value, +elems[3].value ];
				const res_vec = vec_add(a_vec, b_vec);
				elems[4].value = res_vec[0];
				elems[5].value = res_vec[1] + "Â°";
				holder_div.hidden = false;
			}
			
			function vec_add(a_vec, b_vec) { //vec format: [ 60 /*magnitude*/, 45 /*angle, degrees, 0-360*/ ]
				const d2r = x => x * Math.PI / 180;
				const r2d = x => x * 180 / Math.PI;
				const cos = x => Math.cos(d2r(x));
				const sin = x => Math.sin(d2r(x));
				
				const a_cart = [
					a_vec[0] * cos(a_vec[1]),
					a_vec[0] * sin(a_vec[1])
				];
				
				const b_cart = [
					b_vec[0] * cos(b_vec[1]),
					b_vec[0] * sin(b_vec[1])
				];
				
				const sum_cart = [
					a_cart[0] + b_cart[0],
					a_cart[1] + b_cart[1]
				];
				
				const sum_vec = [
					Math.sqrt((sum_cart[0] * sum_cart[0]) + (sum_cart[1] * sum_cart[1])), //magnitude
					r2d(Math.atan2(sum_cart[1], sum_cart[0]))
				];
				
				if (sum_vec[1] < 0)
					sum_vec[1] += 360
				
				return [ +sum_vec[0].toFixed(2), +sum_vec[1].toFixed(2) ];
			}
		</script>
	</body>
</html>